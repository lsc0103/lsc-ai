<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>12-1 Workbench åç»­å¼€å‘è®¡åˆ’</title>
    <link rel="stylesheet" href="../styles.css">
    <style>
        .phase-card {
            border: 2px solid #e8e8e8;
            border-radius: 12px;
            margin-bottom: 24px;
            overflow: hidden;
        }
        .phase-header {
            padding: 16px 20px;
            font-weight: 600;
            font-size: 16px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .phase-1 .phase-header { background: linear-gradient(135deg, #ff4d4f 0%, #ff7875 100%); color: white; }
        .phase-2 .phase-header { background: linear-gradient(135deg, #fa8c16 0%, #ffc53d 100%); color: white; }
        .phase-3 .phase-header { background: linear-gradient(135deg, #1890ff 0%, #69c0ff 100%); color: white; }
        .phase-4 .phase-header { background: linear-gradient(135deg, #52c41a 0%, #95de64 100%); color: white; }
        .phase-content { padding: 20px; }
        .task-group { margin-bottom: 20px; }
        .task-group-title {
            font-weight: 600;
            color: #1890ff;
            margin-bottom: 12px;
            padding-bottom: 8px;
            border-bottom: 1px solid #e8e8e8;
        }
        .task-item {
            display: flex;
            align-items: flex-start;
            gap: 12px;
            padding: 10px 0;
            border-bottom: 1px dashed #f0f0f0;
        }
        .task-item:last-child { border-bottom: none; }
        .task-priority {
            padding: 2px 8px;
            border-radius: 4px;
            font-size: 11px;
            font-weight: 600;
            white-space: nowrap;
        }
        .priority-p0 { background: #ff4d4f; color: white; }
        .priority-p1 { background: #fa8c16; color: white; }
        .priority-p2 { background: #1890ff; color: white; }
        .task-name { font-weight: 500; flex: 1; }
        .task-desc { color: #666; font-size: 13px; margin-top: 4px; }
        .task-files { color: #999; font-size: 12px; margin-top: 4px; font-family: monospace; }
        .architecture-box {
            background: #f6f8fa;
            border: 1px solid #e8e8e8;
            border-radius: 8px;
            padding: 16px;
            margin: 16px 0;
        }
        .code-block {
            background: #1e1e2e;
            color: #d4d4d4;
            border-radius: 8px;
            padding: 16px;
            font-family: 'Fira Code', monospace;
            font-size: 13px;
            overflow-x: auto;
            margin: 12px 0;
        }
        .code-block .keyword { color: #c586c0; }
        .code-block .type { color: #4ec9b0; }
        .code-block .string { color: #ce9178; }
        .code-block .comment { color: #6a9955; }
        .summary-table {
            width: 100%;
            border-collapse: collapse;
            margin: 16px 0;
        }
        .summary-table th, .summary-table td {
            padding: 12px;
            text-align: left;
            border: 1px solid #e8e8e8;
        }
        .summary-table th { background: #fafafa; font-weight: 600; }
        .milestone {
            display: inline-block;
            padding: 4px 12px;
            background: #e6f7ff;
            color: #1890ff;
            border-radius: 4px;
            font-size: 12px;
            font-weight: 500;
        }
    </style>
</head>
<body>
<div class="section-page">
    <div class="section-header">
        <h2>12-1 Workbench åç»­å¼€å‘è®¡åˆ’</h2>
        <div class="meta">åˆ›å»ºæ—¥æœŸï¼š2026-01-27 | åŸºäºæ¶æ„æ–‡æ¡£ã€12-Workbenchå·¥ä½œå°ã€‘</div>
    </div>

    <h3>ä¸€ã€ç°çŠ¶åˆ†æ</h3>

    <table class="summary-table">
        <thead>
            <tr><th>ç»´åº¦</th><th>å®Œæˆåº¦</th><th>è¯´æ˜</th></tr>
        </thead>
        <tbody>
            <tr>
                <td><strong>ç»„ä»¶åº“</strong></td>
                <td style="color: #52c41a; font-weight: 600;">85%</td>
                <td>åŸºç¡€ç»„ä»¶é½å…¨ï¼Œç¼ºå°‘ Ganttã€SQLEditorã€Citationã€ScatterChart</td>
            </tr>
            <tr>
                <td><strong>äº¤äº’èƒ½åŠ›</strong></td>
                <td style="color: #ff4d4f; font-weight: 600;">0%</td>
                <td>Button action æ— æ³•æ‰§è¡Œï¼Œæ— æ³•è§¦å‘ AI å¯¹è¯ã€å¯¼å‡ºæ–‡ä»¶ã€API è°ƒç”¨</td>
            </tr>
            <tr>
                <td><strong>å¤šä»£ç†ååŒ</strong></td>
                <td style="color: #ff4d4f; font-weight: 600;">0%</td>
                <td>æœªåˆ©ç”¨å†…æ ¸å­ä»£ç†ç³»ç»Ÿï¼ŒWorkbench ç”Ÿæˆå…¨é å•ä»£ç†</td>
            </tr>
            <tr>
                <td><strong>æ•°æ®è”åŠ¨</strong></td>
                <td style="color: #ff4d4f; font-weight: 600;">0%</td>
                <td>ç»„ä»¶é—´æ— æ³•ä¼ é€’æ•°æ®ï¼Œè¡¨æ ¼é€‰æ‹©æ— æ³•è§¦å‘å›¾è¡¨æ›´æ–°</td>
            </tr>
            <tr>
                <td><strong>åº”ç”¨åœºæ™¯</strong></td>
                <td style="color: #fa8c16; font-weight: 600;">30%</td>
                <td>èƒ½å±•ç¤ºä½†æ— æ³•äº¤äº’ï¼Œ10å¤§åœºæ™¯ä»…"è½¯ä»¶å¼€å‘"åŸºæœ¬å¯ç”¨</td>
            </tr>
        </tbody>
    </table>

    <h3>äºŒã€å¼€å‘è®¡åˆ’æ€»è§ˆ</h3>

    <div class="mermaid">
    gantt
        title Workbench åç»­å¼€å‘è®¡åˆ’
        dateFormat  YYYY-MM-DD
        section é˜¶æ®µ1
        ActionHandler äº‹ä»¶ç³»ç»Ÿ    :a1, 2026-01-28, 3d
        å¯¼å‡ºåŠŸèƒ½å®ç°              :a2, after a1, 2d
        section é˜¶æ®µ2
        WorkbenchContext æ•°æ®æ€»çº¿ :b1, after a2, 2d
        ç»„ä»¶é—´æ•°æ®è”åŠ¨            :b2, after b1, 2d
        section é˜¶æ®µ3
        Workbench Builder ä»£ç†   :c1, after b2, 3d
        å¤šä»£ç†ååŒä¼˜åŒ–            :c2, after c1, 2d
        section é˜¶æ®µ4
        é«˜çº§ç»„ä»¶å¼€å‘              :d1, after c2, 5d
        åº”ç”¨åœºæ™¯å®Œå–„              :d2, after d1, 3d
    </div>

    <!-- ================================================================== -->
    <!-- é˜¶æ®µ1ï¼šäº¤äº’é—­ç¯ -->
    <!-- ================================================================== -->

    <h3>ä¸‰ã€è¯¦ç»†å¼€å‘ä»»åŠ¡</h3>

    <div class="phase-card phase-1">
        <div class="phase-header">
            <span>é˜¶æ®µ1ï¼šäº¤äº’é—­ç¯ (P0 æœ€é«˜ä¼˜å…ˆçº§)</span>
            <span class="milestone">é‡Œç¨‹ç¢‘ï¼šç”¨æˆ·ç‚¹å‡»æŒ‰é’® â†’ AI å“åº”</span>
        </div>
        <div class="phase-content">
            <p><strong>ç›®æ ‡</strong>ï¼šè®© Workbench ä¸­çš„æŒ‰é’®å’Œæ“ä½œèƒ½å¤ŸçœŸæ­£æ‰§è¡Œï¼Œå½¢æˆç”¨æˆ·-AI äº¤äº’é—­ç¯ã€‚</p>

            <div class="task-group">
                <div class="task-group-title">1.1 ActionHandler äº‹ä»¶ç³»ç»Ÿ</div>

                <div class="task-item">
                    <span class="task-priority priority-p0">P0</span>
                    <div>
                        <div class="task-name">åˆ›å»º ActionHandler æ ¸å¿ƒæ¨¡å—</div>
                        <div class="task-desc">å¤„ç† WorkbenchAction çš„ç»Ÿä¸€å…¥å£ï¼Œæ”¯æŒ chat/api/export/update/navigate ç­‰åŠ¨ä½œç±»å‹</div>
                        <div class="task-files">ğŸ“ packages/web/src/components/workbench/actions/ActionHandler.ts</div>
                    </div>
                </div>

                <div class="task-item">
                    <span class="task-priority priority-p0">P0</span>
                    <div>
                        <div class="task-name">å®ç° ChatAction å¤„ç†å™¨</div>
                        <div class="task-desc">ç‚¹å‡»æŒ‰é’®åå‘é€æ¶ˆæ¯åˆ° AI å¯¹è¯ï¼Œè§¦å‘æ–°ä¸€è½®å“åº”ã€‚éœ€è¦ä¸ ChatStore é›†æˆ</div>
                        <div class="task-files">ğŸ“ packages/web/src/components/workbench/actions/chatAction.ts</div>
                    </div>
                </div>

                <div class="task-item">
                    <span class="task-priority priority-p0">P0</span>
                    <div>
                        <div class="task-name">Button ç»„ä»¶æ¥å…¥ ActionHandler</div>
                        <div class="task-desc">ä¿®æ”¹ Button ç»„ä»¶ï¼Œç‚¹å‡»æ—¶è°ƒç”¨ ActionHandler æ‰§è¡Œ action</div>
                        <div class="task-files">ğŸ“ packages/web/src/components/workbench/components/form/Button.tsx</div>
                    </div>
                </div>

                <div class="task-item">
                    <span class="task-priority priority-p0">P0</span>
                    <div>
                        <div class="task-name">DataTable è¡Œæ“ä½œæ¥å…¥ ActionHandler</div>
                        <div class="task-desc">è¡¨æ ¼è¡Œçš„æ“ä½œæŒ‰é’®ã€è¡Œé€‰æ‹©äº‹ä»¶èƒ½å¤Ÿè§¦å‘ action</div>
                        <div class="task-files">ğŸ“ packages/web/src/components/workbench/components/data/DataTable.tsx</div>
                    </div>
                </div>
            </div>

            <div class="task-group">
                <div class="task-group-title">1.2 å¯¼å‡ºåŠŸèƒ½</div>

                <div class="task-item">
                    <span class="task-priority priority-p0">P0</span>
                    <div>
                        <div class="task-name">å®ç° ExportAction å¤„ç†å™¨</div>
                        <div class="task-desc">æ”¯æŒå¯¼å‡ºä¸º Excel(.xlsx)ã€CSVã€PDFã€JSON æ ¼å¼</div>
                        <div class="task-files">ğŸ“ packages/web/src/components/workbench/actions/exportAction.ts</div>
                    </div>
                </div>

                <div class="task-item">
                    <span class="task-priority priority-p1">P1</span>
                    <div>
                        <div class="task-name">DataTable å¯¼å‡ºæŒ‰é’®</div>
                        <div class="task-desc">åœ¨ DataTable å·¥å…·æ æ·»åŠ å¯¼å‡ºæŒ‰é’®ï¼Œæ”¯æŒå¯¼å‡ºå½“å‰æ•°æ®</div>
                        <div class="task-files">ğŸ“ ä¿®æ”¹ DataTable.tsx</div>
                    </div>
                </div>

                <div class="task-item">
                    <span class="task-priority priority-p1">P1</span>
                    <div>
                        <div class="task-name">å›¾è¡¨å¯¼å‡ºä¸ºå›¾ç‰‡</div>
                        <div class="task-desc">ECharts å›¾è¡¨æ”¯æŒå¯¼å‡ºä¸º PNG/SVG å›¾ç‰‡</div>
                        <div class="task-files">ğŸ“ ä¿®æ”¹ BaseChart.tsx</div>
                    </div>
                </div>
            </div>

            <div class="architecture-box">
                <strong>æ¶æ„è®¾è®¡ï¼šActionHandler</strong>
                <div class="code-block">
<span class="comment">// packages/web/src/components/workbench/actions/ActionHandler.ts</span>

<span class="keyword">import</span> { useChatStore } <span class="keyword">from</span> <span class="string">'@/store/chat'</span>;

<span class="keyword">export class</span> <span class="type">ActionHandler</span> {
  <span class="comment">// å¤„ç† chat åŠ¨ä½œï¼šå‘é€æ¶ˆæ¯ç»™ AI</span>
  <span class="keyword">async</span> handleChat(message: <span class="type">string</span>) {
    <span class="keyword">const</span> { sendMessage } = useChatStore.getState();
    <span class="keyword">await</span> sendMessage(message);
  }

  <span class="comment">// å¤„ç† export åŠ¨ä½œï¼šå¯¼å‡ºæ–‡ä»¶</span>
  <span class="keyword">async</span> handleExport(format: <span class="string">'excel'</span> | <span class="string">'csv'</span> | <span class="string">'pdf'</span>, data: <span class="type">any</span>, filename: <span class="type">string</span>) {
    <span class="keyword">switch</span> (format) {
      <span class="keyword">case</span> <span class="string">'excel'</span>:
        <span class="keyword">return</span> <span class="keyword">this</span>.exportExcel(data, filename);
      <span class="keyword">case</span> <span class="string">'csv'</span>:
        <span class="keyword">return</span> <span class="keyword">this</span>.exportCSV(data, filename);
      <span class="keyword">case</span> <span class="string">'pdf'</span>:
        <span class="keyword">return</span> <span class="keyword">this</span>.exportPDF(data, filename);
    }
  }

  <span class="comment">// å¤„ç† api åŠ¨ä½œï¼šè°ƒç”¨åç«¯ API</span>
  <span class="keyword">async</span> handleApi(endpoint: <span class="type">string</span>, method: <span class="type">string</span>, params: <span class="type">any</span>) {
    <span class="keyword">const</span> response = <span class="keyword">await</span> fetch(endpoint, {
      method,
      body: JSON.stringify(params),
    });
    <span class="keyword">return</span> response.json();
  }

  <span class="comment">// å¤„ç† update åŠ¨ä½œï¼šæ›´æ–°ç»„ä»¶æ•°æ®</span>
  handleUpdate(targetId: <span class="type">string</span>, data: <span class="type">any</span>) {
    <span class="keyword">const</span> { updateComponentData } = useWorkbenchStore.getState();
    updateComponentData(targetId, data);
  }
}
                </div>
            </div>
        </div>
    </div>

    <!-- ================================================================== -->
    <!-- é˜¶æ®µ2ï¼šæ•°æ®è”åŠ¨ -->
    <!-- ================================================================== -->

    <div class="phase-card phase-2">
        <div class="phase-header">
            <span>é˜¶æ®µ2ï¼šæ•°æ®è”åŠ¨ (P1)</span>
            <span class="milestone">é‡Œç¨‹ç¢‘ï¼šè¡¨æ ¼é€‰æ‹© â†’ å›¾è¡¨è”åŠ¨æ›´æ–°</span>
        </div>
        <div class="phase-content">
            <p><strong>ç›®æ ‡</strong>ï¼šå®ç°ç»„ä»¶é—´çš„æ•°æ®ä¼ é€’å’Œè”åŠ¨ï¼Œè®© Workbench æˆä¸ºåŠ¨æ€äº¤äº’ç•Œé¢ã€‚</p>

            <div class="task-group">
                <div class="task-group-title">2.1 WorkbenchContext æ•°æ®æ€»çº¿</div>

                <div class="task-item">
                    <span class="task-priority priority-p1">P1</span>
                    <div>
                        <div class="task-name">åˆ›å»º WorkbenchContext</div>
                        <div class="task-desc">ç»„ä»¶é—´å…±äº«æ•°æ®çš„ä¸Šä¸‹æ–‡ï¼Œæ”¯æŒç»„ä»¶æ³¨å†Œã€æ•°æ®è®¢é˜…ã€äº‹ä»¶å¹¿æ’­</div>
                        <div class="task-files">ğŸ“ packages/web/src/components/workbench/context/WorkbenchContext.tsx</div>
                    </div>
                </div>

                <div class="task-item">
                    <span class="task-priority priority-p1">P1</span>
                    <div>
                        <div class="task-name">ç»„ä»¶çŠ¶æ€ç®¡ç†</div>
                        <div class="task-desc">æ¯ä¸ªç»„ä»¶å¯ä»¥æš´éœ²è‡ªå·±çš„çŠ¶æ€ï¼ˆå¦‚ DataTable çš„é€‰ä¸­è¡Œï¼‰ï¼Œå…¶ä»–ç»„ä»¶å¯ä»¥è®¢é˜…</div>
                        <div class="task-files">ğŸ“ packages/web/src/components/workbench/context/componentState.ts</div>
                    </div>
                </div>
            </div>

            <div class="task-group">
                <div class="task-group-title">2.2 ç»„ä»¶è”åŠ¨å®ç°</div>

                <div class="task-item">
                    <span class="task-priority priority-p1">P1</span>
                    <div>
                        <div class="task-name">DataTable é€‰æ‹©è¡Œå¹¿æ’­</div>
                        <div class="task-desc">è¡¨æ ¼é€‰æ‹©è¡Œæ—¶ï¼Œå°†é€‰ä¸­æ•°æ®å¹¿æ’­åˆ° WorkbenchContext</div>
                        <div class="task-files">ğŸ“ ä¿®æ”¹ DataTable.tsx</div>
                    </div>
                </div>

                <div class="task-item">
                    <span class="task-priority priority-p1">P1</span>
                    <div>
                        <div class="task-name">å›¾è¡¨è®¢é˜…æ•°æ®æ›´æ–°</div>
                        <div class="task-desc">å›¾è¡¨ç»„ä»¶å¯ä»¥è®¢é˜…æŸä¸ªç»„ä»¶çš„æ•°æ®å˜åŒ–ï¼Œè‡ªåŠ¨é‡æ–°æ¸²æŸ“</div>
                        <div class="task-files">ğŸ“ ä¿®æ”¹ BaseChart.tsx</div>
                    </div>
                </div>

                <div class="task-item">
                    <span class="task-priority priority-p1">P1</span>
                    <div>
                        <div class="task-name">è¡¨å•å€¼åŒå‘ç»‘å®š</div>
                        <div class="task-desc">Input/Select/DatePicker çš„å€¼å¯ä»¥ç»‘å®šåˆ° Contextï¼Œå®ç°è¡¨å•è”åŠ¨</div>
                        <div class="task-files">ğŸ“ ä¿®æ”¹è¡¨å•ç»„ä»¶</div>
                    </div>
                </div>
            </div>

            <div class="architecture-box">
                <strong>æ¶æ„è®¾è®¡ï¼šæ•°æ®è”åŠ¨ç¤ºä¾‹</strong>
                <div class="code-block">
<span class="comment">// Schema ç¤ºä¾‹ï¼šè¡¨æ ¼é€‰æ‹©è§¦å‘å›¾è¡¨æ›´æ–°</span>
{
  <span class="string">"type"</span>: <span class="string">"workbench"</span>,
  <span class="string">"tabs"</span>: [{
    <span class="string">"key"</span>: <span class="string">"analysis"</span>,
    <span class="string">"title"</span>: <span class="string">"æ•°æ®åˆ†æ"</span>,
    <span class="string">"components"</span>: [
      {
        <span class="string">"type"</span>: <span class="string">"DataTable"</span>,
        <span class="string">"id"</span>: <span class="string">"sales-table"</span>,
        <span class="string">"columns"</span>: [...],
        <span class="string">"data"</span>: [...],
        <span class="string">"onSelectAction"</span>: {
          <span class="string">"type"</span>: <span class="string">"update"</span>,
          <span class="string">"targetId"</span>: <span class="string">"sales-chart"</span>,
          <span class="string">"data"</span>: <span class="string">"${selectedRows}"</span>  <span class="comment">// å˜é‡å¼•ç”¨</span>
        }
      },
      {
        <span class="string">"type"</span>: <span class="string">"BarChart"</span>,
        <span class="string">"id"</span>: <span class="string">"sales-chart"</span>,
        <span class="string">"dataSource"</span>: <span class="string">"sales-table.selectedRows"</span>  <span class="comment">// æ•°æ®ç»‘å®š</span>
      }
    ]
  }]
}
                </div>
            </div>
        </div>
    </div>

    <!-- ================================================================== -->
    <!-- é˜¶æ®µ3ï¼šå¤šä»£ç†ååŒ -->
    <!-- ================================================================== -->

    <div class="phase-card phase-3">
        <div class="phase-header">
            <span>é˜¶æ®µ3ï¼šå¤šä»£ç†ååŒ (P1)</span>
            <span class="milestone">é‡Œç¨‹ç¢‘ï¼šå¤æ‚ä»»åŠ¡ â†’ å¤šä»£ç†åˆ†å·¥ â†’ Schema åˆæˆ</span>
        </div>
        <div class="phase-content">
            <p><strong>ç›®æ ‡</strong>ï¼šåˆ©ç”¨å†…æ ¸çš„å­ä»£ç†ç³»ç»Ÿï¼Œå®ç°å¤æ‚ Workbench å†…å®¹çš„å¤šä»£ç†ååŒæ„å»ºã€‚</p>

            <div class="task-group">
                <div class="task-group-title">3.1 Workbench Builder ä¸“ç”¨ä»£ç†</div>

                <div class="task-item">
                    <span class="task-priority priority-p1">P1</span>
                    <div>
                        <div class="task-name">å®šä¹‰ workbench-builder å­ä»£ç†ç±»å‹</div>
                        <div class="task-desc">ä¸“é—¨ç”¨äºç”Ÿæˆ Workbench Schema çš„å­ä»£ç†ï¼Œäº†è§£æ‰€æœ‰ç»„ä»¶èƒ½åŠ›</div>
                        <div class="task-files">ğŸ“ localAI/packages/core/src/agent/workbenchAgent.ts</div>
                    </div>
                </div>

                <div class="task-item">
                    <span class="task-priority priority-p1">P1</span>
                    <div>
                        <div class="task-name">Workbench Schema ç”Ÿæˆæç¤ºè¯</div>
                        <div class="task-desc">é’ˆå¯¹ Workbench æ„å»ºçš„ä¸“ç”¨ç³»ç»Ÿæç¤ºè¯ï¼ŒåŒ…å«ç»„ä»¶åˆ—è¡¨ã€ç¤ºä¾‹ Schema</div>
                        <div class="task-files">ğŸ“ localAI/packages/core/src/agent/prompts/workbenchPrompt.ts</div>
                    </div>
                </div>

                <div class="task-item">
                    <span class="task-priority priority-p1">P1</span>
                    <div>
                        <div class="task-name">Schema éªŒè¯å’Œä¿®å¤</div>
                        <div class="task-desc">éªŒè¯ç”Ÿæˆçš„ Schema æ˜¯å¦åˆæ³•ï¼Œè‡ªåŠ¨ä¿®å¤å¸¸è§é”™è¯¯</div>
                        <div class="task-files">ğŸ“ packages/web/src/components/workbench/schema/validator.ts</div>
                    </div>
                </div>
            </div>

            <div class="task-group">
                <div class="task-group-title">3.2 å¤šä»£ç†ä»»åŠ¡åˆ†è§£</div>

                <div class="task-item">
                    <span class="task-priority priority-p1">P1</span>
                    <div>
                        <div class="task-name">ä»»åŠ¡åˆ†è§£å™¨</div>
                        <div class="task-desc">ä¸»ä»£ç†åˆ†æç”¨æˆ·éœ€æ±‚ï¼Œæ‹†åˆ†ä¸ºå¤šä¸ªå­ä»»åŠ¡ï¼ˆæ•°æ®æŸ¥è¯¢ã€å¯è§†åŒ–ã€äº¤äº’æŒ‰é’®ç­‰ï¼‰</div>
                        <div class="task-files">ğŸ“ localAI/packages/core/src/agent/taskDecomposer.ts</div>
                    </div>
                </div>

                <div class="task-item">
                    <span class="task-priority priority-p1">P1</span>
                    <div>
                        <div class="task-name">å¹¶è¡Œå­ä»£ç†æ‰§è¡Œ</div>
                        <div class="task-desc">å¤šä¸ªå­ä»£ç†å¹¶è¡Œæ‰§è¡Œï¼Œå¦‚ï¼šæ•°æ®ä»£ç†æŸ¥è¯¢æ•°æ®ï¼ŒUIä»£ç†è®¾è®¡å¸ƒå±€</div>
                        <div class="task-files">ğŸ“ ä¿®æ”¹ agentManager.ts</div>
                    </div>
                </div>

                <div class="task-item">
                    <span class="task-priority priority-p1">P1</span>
                    <div>
                        <div class="task-name">Schema åˆå¹¶å™¨</div>
                        <div class="task-desc">å°†å¤šä¸ªå­ä»£ç†çš„è¾“å‡ºåˆå¹¶ä¸ºå®Œæ•´çš„ Workbench Schema</div>
                        <div class="task-files">ğŸ“ packages/web/src/components/workbench/schema/merger.ts</div>
                    </div>
                </div>
            </div>

            <div class="architecture-box">
                <strong>æ¶æ„è®¾è®¡ï¼šå¤šä»£ç†ååŒæµç¨‹</strong>
                <pre style="background: #f6f8fa; padding: 16px; border-radius: 8px; font-size: 13px;">
ç”¨æˆ·: "åˆ†æä¸Šæœˆé”€å”®æ•°æ®ï¼Œç”ŸæˆæŠ¥è¡¨"

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    ä¸»ä»£ç† (Orchestrator)                     â”‚
â”‚  1. ç†è§£ç”¨æˆ·æ„å›¾ï¼šé”€å”®æ•°æ®åˆ†æ + æŠ¥è¡¨ç”Ÿæˆ                      â”‚
â”‚  2. ä»»åŠ¡åˆ†è§£ï¼š                                               â”‚
â”‚     - å­ä»»åŠ¡Aï¼šæŸ¥è¯¢é”€å”®æ•°æ®ï¼ˆéœ€è¦æ•°æ®åº“è®¿é—®ï¼‰                   â”‚
â”‚     - å­ä»»åŠ¡Bï¼šè®¾è®¡å¯è§†åŒ–å›¾è¡¨ï¼ˆéœ€è¦é€‰æ‹©å›¾è¡¨ç±»å‹ï¼‰               â”‚
â”‚     - å­ä»»åŠ¡Cï¼šç”Ÿæˆäº¤äº’æŒ‰é’®ï¼ˆå¯¼å‡ºã€æ·±å…¥åˆ†æï¼‰                   â”‚
â”‚  3. åˆ†é…ç»™å­ä»£ç†å¹¶è¡Œæ‰§è¡Œ                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚                   â”‚                   â”‚
       â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”
       â”‚  æ•°æ®æŸ¥è¯¢ä»£ç†  â”‚   â”‚  å¯è§†åŒ–ä»£ç†    â”‚   â”‚  äº¤äº’è®¾è®¡ä»£ç†  â”‚
       â”‚  (explore)    â”‚   â”‚  (general)    â”‚   â”‚  (general)    â”‚
       â”‚               â”‚   â”‚               â”‚   â”‚               â”‚
       â”‚ - æ‰§è¡Œ SQL    â”‚   â”‚ - é€‰æ‹©å›¾è¡¨ç±»å‹ â”‚   â”‚ - è®¾è®¡æŒ‰é’®    â”‚
       â”‚ - æ•°æ®èšåˆ    â”‚   â”‚ - é…ç½®é¢œè‰²    â”‚   â”‚ - å®šä¹‰åŠ¨ä½œ    â”‚
       â”‚ - è¿”å›æ•°æ®    â”‚   â”‚ - è¿”å›Schema  â”‚   â”‚ - è¿”å›Schema  â”‚
       â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚                   â”‚                   â”‚
               â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                   â”‚
                           â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”
                           â”‚ Schema åˆå¹¶å™¨  â”‚
                           â”‚               â”‚
                           â”‚ åˆå¹¶ä¸ºå®Œæ•´çš„   â”‚
                           â”‚ Workbench     â”‚
                           â”‚ Schema        â”‚
                           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                </pre>
            </div>
        </div>
    </div>

    <!-- ================================================================== -->
    <!-- é˜¶æ®µ4ï¼šé«˜çº§ç»„ä»¶ä¸åœºæ™¯ -->
    <!-- ================================================================== -->

    <div class="phase-card phase-4">
        <div class="phase-header">
            <span>é˜¶æ®µ4ï¼šé«˜çº§ç»„ä»¶ä¸åœºæ™¯ (P2)</span>
            <span class="milestone">é‡Œç¨‹ç¢‘ï¼š10å¤§åº”ç”¨åœºæ™¯å…¨è¦†ç›–</span>
        </div>
        <div class="phase-content">
            <p><strong>ç›®æ ‡</strong>ï¼šè¡¥å……é«˜çº§ç»„ä»¶ï¼Œå®Œå–„å„åº”ç”¨åœºæ™¯çš„æ”¯æŒã€‚</p>

            <div class="task-group">
                <div class="task-group-title">4.1 ç¼ºå¤±ç»„ä»¶å¼€å‘</div>

                <div class="task-item">
                    <span class="task-priority priority-p2">P2</span>
                    <div>
                        <div class="task-name">Gantt ç”˜ç‰¹å›¾ç»„ä»¶</div>
                        <div class="task-desc">é¡¹ç›®ç®¡ç†åœºæ™¯æ ¸å¿ƒç»„ä»¶ï¼Œå±•ç¤ºä»»åŠ¡æ—¶é—´çº¿å’Œä¾èµ–å…³ç³»</div>
                        <div class="task-files">ğŸ“ packages/web/src/components/workbench/components/chart/Gantt.tsx</div>
                    </div>
                </div>

                <div class="task-item">
                    <span class="task-priority priority-p2">P2</span>
                    <div>
                        <div class="task-name">SQLEditor ç»„ä»¶</div>
                        <div class="task-desc">SQL ç¼–è¾‘å™¨ï¼Œè¯­æ³•é«˜äº®ã€è‡ªåŠ¨è¡¥å…¨ã€æ‰§è¡ŒæŸ¥è¯¢</div>
                        <div class="task-files">ğŸ“ packages/web/src/components/workbench/components/code/SQLEditor.tsx</div>
                    </div>
                </div>

                <div class="task-item">
                    <span class="task-priority priority-p2">P2</span>
                    <div>
                        <div class="task-name">Citation å¼•ç”¨ç»„ä»¶</div>
                        <div class="task-desc">çŸ¥è¯†ç®¡ç†åœºæ™¯ï¼Œå±•ç¤ºå¼•ç”¨æ¥æºå’Œå‚è€ƒæ–‡çŒ®</div>
                        <div class="task-files">ğŸ“ packages/web/src/components/workbench/components/data/Citation.tsx</div>
                    </div>
                </div>

                <div class="task-item">
                    <span class="task-priority priority-p2">P2</span>
                    <div>
                        <div class="task-name">ScatterChart æ•£ç‚¹å›¾</div>
                        <div class="task-desc">æ•°æ®åˆ†æåœºæ™¯ï¼Œå±•ç¤ºæ•°æ®åˆ†å¸ƒå’Œç›¸å…³æ€§</div>
                        <div class="task-files">ğŸ“ packages/web/src/components/workbench/components/chart/ScatterChart.tsx</div>
                    </div>
                </div>

                <div class="task-item">
                    <span class="task-priority priority-p2">P2</span>
                    <div>
                        <div class="task-name">Tabs/Collapse å¸ƒå±€ç»„ä»¶å®Œå–„</div>
                        <div class="task-desc">æ ‡ç­¾é¡µã€æŠ˜å é¢æ¿çš„å®Œæ•´å®ç°</div>
                        <div class="task-files">ğŸ“ packages/web/src/components/workbench/components/layout/Tabs.tsx</div>
                    </div>
                </div>
            </div>

            <div class="task-group">
                <div class="task-group-title">4.2 åº”ç”¨åœºæ™¯å®Œå–„</div>

                <div class="task-item">
                    <span class="task-priority priority-p2">P2</span>
                    <div>
                        <div class="task-name">è½¯ä»¶å¼€å‘åœºæ™¯å¢å¼º</div>
                        <div class="task-desc">ä»£ç å®¡æŸ¥"ä¸€é”®åº”ç”¨å»ºè®®"ã€Bug ä¿®å¤"åº”ç”¨ä¿®å¤"æŒ‰é’®çœŸæ­£ç”Ÿæ•ˆ</div>
                    </div>
                </div>

                <div class="task-item">
                    <span class="task-priority priority-p2">P2</span>
                    <div>
                        <div class="task-name">æ•°æ®åˆ†æåœºæ™¯å¢å¼º</div>
                        <div class="task-desc">"å¯¼å‡º Excel"ã€"ç”Ÿæˆå‘¨æŠ¥"ã€"æ·±å…¥åˆ†æ"æŒ‰é’®åŠŸèƒ½å®ç°</div>
                    </div>
                </div>

                <div class="task-item">
                    <span class="task-priority priority-p2">P2</span>
                    <div>
                        <div class="task-name">æ–‡æ¡£å¤„ç†åœºæ™¯å¢å¼º</div>
                        <div class="task-desc">"ç”Ÿæˆå®¡æŸ¥æŠ¥å‘Š"ã€"æ ‡æ³¨é—®é¢˜æ¡æ¬¾"åŠŸèƒ½å®ç°</div>
                    </div>
                </div>

                <div class="task-item">
                    <span class="task-priority priority-p2">P2</span>
                    <div>
                        <div class="task-name">è¿ç»´ç›‘æ§åœºæ™¯å¢å¼º</div>
                        <div class="task-desc">"AI æ™ºèƒ½è¯Šæ–­"ã€"æ‰¹é‡é‡å¯"åŠŸèƒ½ï¼Œéœ€è¦ä¸ Client Agent è”åŠ¨</div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- ================================================================== -->
    <!-- å¼€å‘æ—¶é—´ä¼°ç®— -->
    <!-- ================================================================== -->

    <h3>å››ã€å¼€å‘æ—¶é—´ä¼°ç®—</h3>

    <table class="summary-table">
        <thead>
            <tr><th>é˜¶æ®µ</th><th>æ ¸å¿ƒä»»åŠ¡</th><th>ä¼˜å…ˆçº§</th><th>é¢„è®¡å·¥æ—¶</th></tr>
        </thead>
        <tbody>
            <tr>
                <td><strong>é˜¶æ®µ1</strong></td>
                <td>ActionHandler + å¯¼å‡ºåŠŸèƒ½</td>
                <td style="color: #ff4d4f;">P0</td>
                <td>3-5 å¤©</td>
            </tr>
            <tr>
                <td><strong>é˜¶æ®µ2</strong></td>
                <td>WorkbenchContext + æ•°æ®è”åŠ¨</td>
                <td style="color: #fa8c16;">P1</td>
                <td>3-4 å¤©</td>
            </tr>
            <tr>
                <td><strong>é˜¶æ®µ3</strong></td>
                <td>å¤šä»£ç†ååŒ + Schema åˆæˆ</td>
                <td style="color: #fa8c16;">P1</td>
                <td>4-5 å¤©</td>
            </tr>
            <tr>
                <td><strong>é˜¶æ®µ4</strong></td>
                <td>é«˜çº§ç»„ä»¶ + åœºæ™¯å®Œå–„</td>
                <td style="color: #1890ff;">P2</td>
                <td>5-7 å¤©</td>
            </tr>
            <tr style="background: #f6f8fa;">
                <td colspan="3"><strong>æ€»è®¡</strong></td>
                <td><strong>15-21 å¤©</strong></td>
            </tr>
        </tbody>
    </table>

    <h3>äº”ã€å…³é”®æˆåŠŸæŒ‡æ ‡</h3>

    <div class="tip-box success" style="border-color: #52c41a; background: #f6ffed;">
        <h5>é˜¶æ®µ1 éªŒæ”¶æ ‡å‡†</h5>
        <ul>
            <li>âœ… ç‚¹å‡» Workbench ä¸­çš„æŒ‰é’®ï¼Œèƒ½è§¦å‘ AI æ–°ä¸€è½®å¯¹è¯</li>
            <li>âœ… DataTable çš„"å¯¼å‡º Excel"æŒ‰é’®èƒ½ä¸‹è½½æ–‡ä»¶</li>
            <li>âœ… å›¾è¡¨èƒ½å¯¼å‡ºä¸º PNG å›¾ç‰‡</li>
        </ul>
    </div>

    <div class="tip-box info">
        <h5>é˜¶æ®µ2 éªŒæ”¶æ ‡å‡†</h5>
        <ul>
            <li>âœ… è¡¨æ ¼é€‰æ‹©è¡Œåï¼Œå…³è”å›¾è¡¨è‡ªåŠ¨æ›´æ–°</li>
            <li>âœ… è¡¨å•è¾“å…¥å˜åŒ–èƒ½è§¦å‘å…¶ä»–ç»„ä»¶æ›´æ–°</li>
            <li>âœ… ç»„ä»¶é—´å¯ä»¥é€šè¿‡ ID å¼•ç”¨æ•°æ®</li>
        </ul>
    </div>

    <div class="tip-box warning">
        <h5>é˜¶æ®µ3 éªŒæ”¶æ ‡å‡†</h5>
        <ul>
            <li>âœ… å¤æ‚ä»»åŠ¡èƒ½è‡ªåŠ¨æ‹†åˆ†ç»™å¤šä¸ªå­ä»£ç†</li>
            <li>âœ… å­ä»£ç†å¹¶è¡Œæ‰§è¡Œï¼Œç»“æœæ­£ç¡®åˆå¹¶</li>
            <li>âœ… ç”Ÿæˆçš„ Workbench åŒ…å«åˆç†çš„äº¤äº’æŒ‰é’®</li>
        </ul>
    </div>

    <div class="tip-box" style="border-color: #722ed1; background: #f9f0ff;">
        <h5>é˜¶æ®µ4 éªŒæ”¶æ ‡å‡†</h5>
        <ul>
            <li>âœ… 10å¤§åº”ç”¨åœºæ™¯çš„æ ¸å¿ƒæµç¨‹å…¨éƒ¨å¯ç”¨</li>
            <li>âœ… ç”¨æˆ·èƒ½å®Œæˆ"æ•°æ®åˆ†æ â†’ å¯¼å‡ºæŠ¥å‘Š â†’ AI æ·±å…¥åˆ†æ"å®Œæ•´é—­ç¯</li>
            <li>âœ… è¿ç»´åœºæ™¯èƒ½è§¦å‘ Client Agent æ‰§è¡Œå®é™…æ“ä½œ</li>
        </ul>
    </div>

</div>

<script src="../assets/mermaid.min.js"></script>
<script>
    mermaid.initialize({ startOnLoad: true, theme: 'default' });
</script>
</body>
</html>
