/**
 * LSC-AI 设计系统 - 玻璃按钮
 *
 * iOS 风格玻璃按钮，带有边缘高光效果
 */

/* ===== 基础玻璃按钮 ===== */
.glass-btn {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: var(--space-2);
  position: relative;
  background: var(--glass-bg-medium);
  backdrop-filter: blur(var(--glass-blur-sm)) var(--glass-saturate);
  -webkit-backdrop-filter: blur(var(--glass-blur-sm)) var(--glass-saturate);
  border: none;
  border-radius: var(--radius-lg);
  padding: 0 var(--space-4);
  height: var(--control-height-md);
  color: var(--text-primary);
  font-size: var(--text-base);
  font-weight: var(--font-medium);
  cursor: pointer;
  user-select: none;
  overflow: hidden;
  transition:
    transform var(--transition-normal),
    background-color var(--transition-fast),
    box-shadow var(--transition-normal);
  box-shadow: var(--glass-shadow-button);
}

/* 顶部弧形高光 */
.glass-btn::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 50%;
  background: linear-gradient(
    180deg,
    rgba(var(--glass-highlight-color), 0.4) 0%,
    transparent 100%
  );
  -webkit-mask: linear-gradient(180deg, rgba(0,0,0,1) 0%, rgba(0,0,0,0) 6px);
  mask: linear-gradient(180deg, rgba(0,0,0,1) 0%, rgba(0,0,0,0) 6px);
  border-radius: inherit;
  pointer-events: none;
}

/* 悬浮状态 */
.glass-btn:hover {
  background: var(--glass-bg-hover);
  transform: translateY(-2px);
  box-shadow: var(--glass-shadow-button-hover);
}

/* 按下状态 */
.glass-btn:active {
  transform: scale(0.98);
  background: var(--glass-bg-active);
  transition-duration: var(--duration-instant);
}

/* 聚焦状态 */
.glass-btn:focus-visible {
  outline: none;
  box-shadow: var(--glass-shadow-button), var(--glass-glow-focus);
}

/* 禁用状态 */
.glass-btn:disabled {
  opacity: 0.5;
  cursor: not-allowed;
  pointer-events: none;
}

/* ===== 尺寸变体 ===== */
.glass-btn-sm {
  height: var(--control-height-sm);
  padding: 0 var(--space-3);
  font-size: var(--text-sm);
  border-radius: var(--radius-md);
}

.glass-btn-lg {
  height: var(--control-height-lg);
  padding: 0 var(--space-5);
  font-size: var(--text-lg);
  border-radius: var(--radius-xl);
}

/* ===== 主要按钮（强调色）===== */
.glass-btn-primary {
  background: var(--accent-primary);
  color: #fff;
  box-shadow:
    0 4px 16px rgba(0, 113, 227, 0.3),
    inset 0 1px 0 rgba(255, 255, 255, 0.25);
}

.glass-btn-primary::before {
  background: linear-gradient(
    180deg,
    rgba(255, 255, 255, 0.3) 0%,
    transparent 100%
  );
}

.glass-btn-primary:hover {
  background: var(--accent-primary-hover);
  box-shadow:
    0 6px 20px rgba(0, 113, 227, 0.4),
    inset 0 1px 0 rgba(255, 255, 255, 0.3);
}

.glass-btn-primary:active {
  background: var(--accent-primary-active);
}

/* ===== 危险按钮 ===== */
.glass-btn-danger {
  background: var(--accent-error);
  color: #fff;
  box-shadow:
    0 4px 16px rgba(255, 59, 48, 0.3),
    inset 0 1px 0 rgba(255, 255, 255, 0.2);
}

.glass-btn-danger:hover {
  background: #ff453a;
  box-shadow:
    0 6px 20px rgba(255, 59, 48, 0.4),
    inset 0 1px 0 rgba(255, 255, 255, 0.25);
}

/* ===== 幽灵按钮（仅边框）===== */
.glass-btn-ghost {
  background: transparent;
  box-shadow: none;
  border: 1px solid var(--border-default);
}

.glass-btn-ghost::before {
  display: none;
}

.glass-btn-ghost:hover {
  background: var(--glass-bg-subtle);
  border-color: var(--border-light);
}

/* ===== 文字按钮 ===== */
.glass-btn-text {
  background: transparent;
  box-shadow: none;
  color: var(--accent-primary);
}

.glass-btn-text::before {
  display: none;
}

.glass-btn-text:hover {
  background: var(--glass-bg-subtle);
}

/* ===== 图标按钮 ===== */
.glass-btn-icon {
  width: var(--control-height-md);
  padding: 0;
}

.glass-btn-icon.glass-btn-sm {
  width: var(--control-height-sm);
}

.glass-btn-icon.glass-btn-lg {
  width: var(--control-height-lg);
}

/* ===== 加载状态 ===== */
.glass-btn-loading {
  pointer-events: none;
}

.glass-btn-loading::after {
  content: '';
  width: 16px;
  height: 16px;
  border: 2px solid currentColor;
  border-right-color: transparent;
  border-radius: 50%;
  animation: btnSpin 0.6s linear infinite;
}

@keyframes btnSpin {
  to { transform: rotate(360deg); }
}
